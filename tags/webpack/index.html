<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>Tag: webpack | Solitude is freedom</title>
  <!-- <meta name="description" content="A man who dreams of being a full stack engineer" />
  <meta name="keywords" content="Javascript,Nodejs,Vue,Nuxt,Other" /> -->
  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!-- <link rel="shortcut icon" href="/"> -->
  <link rel="icon" href="/images/favicon.ico">
  <link rel="alternate" href="/atom.xml" title="Solitude is freedom">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="A man who dreams of being a full stack engineer">
<meta name="keywords" content="Javascript,Nodejs,Vue,Nuxt,Other">
<meta property="og:type" content="website">
<meta property="og:title" content="Solitude is freedom">
<meta property="og:url" content="https://i7eo.com/tags/webpack/index.html">
<meta property="og:site_name" content="Solitude is freedom">
<meta property="og:description" content="A man who dreams of being a full stack engineer">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Solitude is freedom">
<meta name="twitter:description" content="A man who dreams of being a full stack engineer">

  <!-- <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"> -->
  <link href="//cdn.bootcss.com/node-waves/0.7.5/waves.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>
</html>
<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class="wrapper">
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href="/">
				Solitude is freedom
			</a>
			<div class="menu">
				<ul class="h-list">
					
						<li>
							<a class="flat-box nav-home" href="/">
								Home
							</a>
						</li>
					
						<li>
							<a class="flat-box nav-archives" href="/archives">
								Archives
							</a>
						</li>
					
						<li>
							<a class="flat-box nav-about" href="/about">
								About
							</a>
						</li>
					
				</ul>
				<div class="underline"></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search">
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class="switcher h-list">
				
					<li class="s-search"><a href="javascript:void(0)"><span class="icon icon-search flat-box"></span></a></li>
				
				<li class="s-menu"><a href="javascript:void(0)"><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>

		<div class="nav-sub container container--flex">
			<a class="logo mlogo" href="javascript:void(0)">
				Word of Forks
			</a>

			<ul class="switcher h-list">
				<li class="s-comment"><a href="javascript:void(0)"><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class="s-top"><a href="javascript:void(0)"><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<!-- <li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li> -->
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/" class="nav-home nav">
				Home
			</a>
		
			<a href="/archives" class="nav-archives nav">
				Archives
			</a>
		
			<a href="/about" class="nav-about nav">
				About
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        
  <script>
    window.subData= { title:'Tag : webpack'}
  </script>

<section class="post-list">
	
    <div class="post-wrapper">
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2020/03/10/Webpack4-0-学习笔记-下.html">
        Webpack4.0 学习笔记（下）
      </a>
    </h2>
    
    <time>
      Mar 10, 2020
    </time>
		
    
    <span class="post-count">
      |&nbsp;字数 2593
    </span>
    <div class="cats">
        <a href="/categories/Javascript/">Javascript</a>
    </div>


  </section>
  <section class="article typo">
	  <h3 id="Webpack4-0-学习笔记"><a href="#Webpack4-0-学习笔记" class="headerlink" title="Webpack4.0 学习笔记"></a>Webpack4.0 学习笔记</h3><h3 id="浏览器-Caching"><a href="#浏览器-Caching" class="headerlink" title="浏览器 Caching"></a>浏览器 Caching</h3><p>当我们在打包资源的时候资源名以文件名命名，修改资源，接着普通刷新资源是不会改变的（其实是浏览器将上一次的资源缓存了）。解决方法就是在资源命名处加上 <code>[contenthash]</code> 来解决这个问题。先来看几个概念:</p>
<ol>
<li><p>runtime:<br>在浏览器运行过程中，webpack 用来连接模块化应用程序所需的所有代码。它包含：在模块交互时，连接模块所需的加载和解析逻辑。包括：已经加载到浏览器中的连接模块逻辑，以及尚未加载模块的延迟加载逻辑。在未使用 <code>optimization: { runtimeChunk: { name: &#39;runtime&#39; } }</code> 时，runtime 被存放在入口的 main.js 中，只有使用后才会被单独打包出来。</p>
</li>
<li><p>manifest:<br>存在于 runtime 中，当 webpack compiler 开始执行、解析和映射应用程序时，manifest 会保留形如 index.html 文件、各个 bundle 和各种资源模块的详细要点，这个数据集合称为 “manifest”，当完成打包并发送到浏览器时，runtime 会通过 manifest 来解析和加载模块。无论你选择哪种 模块语法，那些 import 或 require 语句现在都已经转换为 <code>__webpack_require__</code> 方法，此方法指向模块标识符(module identifier)。通过使用 manifest 中的数据，runtime 将能够检索这些标识符，找出每个标识符背后对应的模块。</p>
</li>
</ol>
<p>在稍低版本的 webpack 中加上了 contenthash 即使内容没变化，contenthash 也会改变。那这又是为什么呢？原因是因为在 webpack 中每个资源都是 chunk，每个 chunk 都会有对应的 chunk id(模块标识符 module identifier)，chunk id 的顺序是排列好的，新创建一个 js 资源然后在 index.js 中引用都会引起 chunk id 的顺序变化，顺序变化了就会导致 manifest 文件的变化，又因为 runtime 包含 manifest，所以  runtime 变化。 具体事例请参考: <a href="https://webpack.docschina.org/guides/caching" target="_blank" rel="noopener">https://webpack.docschina.org/guides/caching</a> 只需要将 runtime 提出即可解决该问题：<code>optimization: { runtimeChunk: { name: &#39;runtime&#39; } }</code></p>
<h3 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree Shaking"></a>Tree Shaking</h3><p><code>描述移除 JavaScript 上下文中的未引用代码(dead-code)。它依赖于 ES2015 模块语法的 静态结构 特性，例如 import 和 export。</code> 这里注意只支持 es module 的语法，commonjs 不支持。具体原因请参考：<a href="https://segmentfault.com/a/1190000017878394" target="_blank" rel="noopener">深入 CommonJs 与 ES6 Module</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">'development'</span>,</span><br><span class="line">    devtools: <span class="string">'cheap-module-eval-source-map'</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    optimization: &#123;</span><br><span class="line">        usedExports: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    sideEffects: <span class="literal">false</span> <span class="comment">// 这里指全部文件都要进行 tree-shaking</span></span><br><span class="line">    <span class="comment">// sideEffects: ["@babel/polyfill", "*.css"] // 指除了 polyfill css文件其他都进行 tree-shaking</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>开发环境中即使配置了 optimization 但是在打包后的 js 中代码还是保持原状，因为在开发环境中我们需要经常调试，如果直接使用 tree-shaking 会导致一些难以追踪的问题，所以 webpack 中在生产环境即使不配置 optimization 也会自动开启 tree-shaking，默认的 <code>sideEffects: false</code> , 如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">'production'</span>,</span><br><span class="line">    devtools: <span class="string">'cheap-module-source-map'</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    sideEffects: <span class="literal">false</span> <span class="comment">// 这里指全部文件都要进行 tree-shaking</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Code-Splitting"><a href="#Code-Splitting" class="headerlink" title="Code Splitting"></a>Code Splitting</h3><p>代码分割这个概念很早就出现了，只不过都是我们人为的拆分、分离代码。这并不是 webpack 独有的。</p>
<p>常用的代码分离方法有三种：</p>
<ul>
<li>入口起点：使用 entry 配置手动地分离代码。</li>
<li>静态导入：使用 SplitChunksPlugin 去重和分离 chunk。</li>
<li>动态导入：通过模块中的内联函数调用来分离代码。</li>
</ul>
<h4 id="配置多入口，会将入口处的文件依次放入-index-html-中"><a href="#配置多入口，会将入口处的文件依次放入-index-html-中" class="headerlink" title="配置多入口，会将入口处的文件依次放入 index.html 中"></a>配置多入口，会将入口处的文件依次放入 index.html 中</h4><h4 id="通过在文件头部-import-from-39-lodash-39-我们可以在-webpack-配置中添加-optimization-splitChunks-chunks-39-all-39-即可"><a href="#通过在文件头部-import-from-39-lodash-39-我们可以在-webpack-配置中添加-optimization-splitChunks-chunks-39-all-39-即可" class="headerlink" title="通过在文件头部 import _ from &#39;lodash&#39; 我们可以在 webpack 配置中添加 optimization: {splitChunks: { chunks: &#39;all&#39; }} 即可"></a>通过在文件头部 <code>import _ from &#39;lodash&#39;</code> 我们可以在 webpack 配置中添加 <code>optimization: {splitChunks: { chunks: &#39;all&#39; }}</code> 即可</h4><h4 id="异步代码（动态导入）文件无需配置-webpack-文件，webpack-会自动进行代码分离"><a href="#异步代码（动态导入）文件无需配置-webpack-文件，webpack-会自动进行代码分离" class="headerlink" title="异步代码（动态导入）文件无需配置 webpack 文件，webpack 会自动进行代码分离"></a>异步代码（动态导入）文件无需配置 webpack 文件，webpack 会自动进行代码分离</h4><h4 id="split-chunks"><a href="#split-chunks" class="headerlink" title="split chunks"></a>split chunks</h4><p>当我们在 <code>optimization: { splitChunks: {} }</code> 没有配置任何参数的时候这里其实执行了 webpack 的默认配置，配置如下：（具体请参考 <a href="https://webpack.docschina.org/plugins/split-chunks-plugin/" target="_blank" rel="noopener">SplitChunksPlugin</a>）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack 默认配置</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: <span class="string">'async'</span>,</span><br><span class="line">      minSize: <span class="number">30000</span>,</span><br><span class="line">      maxSize: <span class="number">0</span>,</span><br><span class="line">      minChunks: <span class="number">1</span>,</span><br><span class="line">      maxAsyncRequests: <span class="number">5</span>,</span><br><span class="line">      maxInitialRequests: <span class="number">3</span>,</span><br><span class="line">      automaticNameDelimiter: <span class="string">'~'</span>,</span><br><span class="line">      name: <span class="literal">true</span>,</span><br><span class="line">      cacheGroups: &#123;</span><br><span class="line">        vendors: &#123;</span><br><span class="line">          test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">          priority: <span class="number">-10</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">default</span>: &#123;</span><br><span class="line">          minChunks: <span class="number">2</span>,</span><br><span class="line">          priority: <span class="number">-20</span>,</span><br><span class="line">          reuseExistingChunk: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>1 chunks: all | async | initial , 当为 async 时只支持异步引入的资源打包，当为 all 时异步、同步资源均可被打包。需要注意的是当为 all 时 cacheGroups 必须配置，不设置其中的属性 filename 的话打包出来的资源名为 vendors~main.js 意思是在 vendors 组下，资源入口为 main.js 我们可以设置 filename: ‘vendors.js’</p>
<p>2 minSize 是指当资源大于该值才向下执行，小于则不执行</p>
<p>3 maxSize 是指当资源大于该值时 webpack 尝试将资源用该值来分割为多份，一般不配置或为0即可</p>
<p>4 minChunks 是指当一个资源(jquery lodash…)被用了至少几次后才分割</p>
<p>5 maxAsyncRequests 是指同时加载资源的个数，假如这里设置5，当 webpack 分割第5块资源完毕后剩下的资源不会再分割</p>
<p>6 maxInitialRequests 指网站首页（入口文件）最多分割模块数</p>
<p>7 automaticNameDelimiter 指的是当没配置 filename 时打包出来的文件 <code>vendors~lodash.js</code> 中的～连接符</p>
<p>8 name 指的是是否让 cacheGroups 中配置的 filename 生效</p>
<p>9 cacheGroups 顾名思义是缓存组的意思，假设此时我同步导入<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">'lodash'</span></span><br><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span></span><br></pre></td></tr></table></figure></p>
<p>如果没有这一项则会打包出来俩个 vendor 文件，有了该项后先打包 lodash 放入 vendros 组中，在打包 jquery 发现满足配置，再放入 vendors 中，生成一个 vendors 文件。那么 default 是干什么的呢？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">'lodash'</span></span><br><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./Header.js'</span></span><br></pre></td></tr></table></figure>
<p>lodash 与 jquery 均放入 vendors 组中，而 Header 并不在 node_modules 中所以放入 default 组中。如果此时没有 default 选项那么 Header 并不会被分割出来。<br>这里需要注意的是 vendors 中的 test 并不是只能匹配 node_modules，default 同理。</p>
<p>10 priority 指打包优先级，在上面的默认配置代码中 default 并没有配置 test，所以此时如果我们引入 <code>import _ from &#39;lodash&#39;</code> 是既满足 vendors 组又满足 default 组，那么 lodash 该去哪呢？此时比较 priority 的大小，放入数值大的组中。</p>
<p>11 reuseExistingChunk 指的是如果出现资源互相的情况那么如果被引用资源已经被打包过就直接使用，避免重复打包</p>
<h5 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h5><p>1 在进行代码分割后打包文件会出现 <code>vendors~lodash.js</code> 这样的 vendor 前缀，如果想要去掉的话需要配置 <code>vendors: false, default: false</code></p>
<p>2 ⚠️ 处理同步引入资源打包（即 chunks 为 all 或者 innital）时不配置 cacheGroups 是不会将符合 cacheGroups 之前条件的资源分割打包出来</p>
<h3 id="lazy-loadinng"><a href="#lazy-loadinng" class="headerlink" title="lazy loadinng"></a>lazy loadinng</h3><p>先看俩段代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> el = $(<span class="string">'&lt;div&gt;i7eo&lt;/div&gt;'</span>)</span><br><span class="line">$(<span class="string">'body'</span>).append(el)</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="keyword">const</span> getJquery = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "jquery" */</span> <span class="string">'jquery'</span>).then(<span class="function">(<span class="params">&#123; <span class="keyword">default</span>: $ &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> $</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">    getJquery().then(<span class="function"><span class="params">$</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> el = $(<span class="string">'&lt;div&gt;i7eo&lt;/div&gt;'</span>)</span><br><span class="line">        $(<span class="string">'body'</span>).append(el)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>第一段代码是同步执行，而第二段我们使用了异步加载的方式，虽然打包的时候 jquery 也被打包了出来但是进入页面第一时间并不会加载，只有当单击页面时才会加载，这就是异步加载（lazy loading）的好处。三大框架中动态路由也是运用了这样的技巧。第二段代码可以使用 async await 改写具体如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getJquery</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; <span class="attr">default</span>: $ &#125; = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "jquery" */</span> <span class="string">'jquery'</span>)</span><br><span class="line">    <span class="keyword">return</span> $</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">    getJquery().then(<span class="function"><span class="params">$</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> el = $(<span class="string">'&lt;div&gt;i7eo&lt;/div&gt;'</span>)</span><br><span class="line">        $(<span class="string">'body'</span>).append(el)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="pre-fetch-pre-loading"><a href="#pre-fetch-pre-loading" class="headerlink" title="pre-fetch/pre-loading"></a>pre-fetch/pre-loading</h3><p>除了利用缓存来提高页面加载速度，那有什么办法在代码层面还提高呢？我们可以在 chrome 查看 coverage（<kbd>commande</kbd>+<kbd>shift</kbd>+<kbd>p</kbd>），观察代码使用率的情况从而找出未使用的代码做成异步加载来实现。</p>
<h5 id="思考这样一个场景，有一个管理后台，右上角有一个登陆按钮，单击后出现一个弹窗。"><a href="#思考这样一个场景，有一个管理后台，右上角有一个登陆按钮，单击后出现一个弹窗。" class="headerlink" title="思考这样一个场景，有一个管理后台，右上角有一个登陆按钮，单击后出现一个弹窗。"></a>思考这样一个场景，有一个管理后台，右上角有一个登陆按钮，单击后出现一个弹窗。</h5><p>这个时候我们可以把单击事件中的弹窗逻辑使用 import 改为异步代码，首次进入页面不加载，单击时再加载。但是如果逻辑较多或网络不稳定就会出现单击后弹窗延迟出现的可能。那么这个时候我们就可以使用 pre-fetch/pre-loading 来解决这个问题。实现方式也很简单，在 <code>import(/* webpackPrefetch:true */ &#39;./Popup.js&#39;)</code> 改写魔法注释就可以实现。<br>pre-fetch/pre-loading 的区别在于 fetch 是在页面加载完毕后加载，loading 是与页面的主逻辑资源一同加载。（注意浏览器对这二者的兼容性）</p>
<h3 id="shimming"><a href="#shimming" class="headerlink" title="shimming"></a>shimming</h3><p>根据官网的解释来看 shimming 是依赖预置的意思。举个例子：</p>
<h5 id="试想现在有一个老项目，里面有上千个页面，每个页面都得用到-juqery，现在我们要对该项目利用-webpack-改造，那么-juqery-的依赖应该怎么处理"><a href="#试想现在有一个老项目，里面有上千个页面，每个页面都得用到-juqery，现在我们要对该项目利用-webpack-改造，那么-juqery-的依赖应该怎么处理" class="headerlink" title="试想现在有一个老项目，里面有上千个页面，每个页面都得用到 juqery，现在我们要对该项目利用 webpack 改造，那么 juqery 的依赖应该怎么处理?"></a>试想现在有一个老项目，里面有上千个页面，每个页面都得用到 juqery，现在我们要对该项目利用 webpack 改造，那么 juqery 的依赖应该怎么处理?</h5><p>方法1: 在入口文件处将 jquery 挂载到 window 上。<code>window.$ = $</code><br>方法2: 配置 shimming，具体如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">            $: <span class="string">'jquery'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>官方推荐的方式是方法后2，具体可参考 <a href="https://webpack.docschina.org/guides/shimming/" target="_blank" rel="noopener">https://webpack.docschina.org/guides/shimming/</a><br>方法2中对 webpack 配置后其实也是在需要使用 $ 的文件头部自动注入 <code>import $ from &#39;jquery&#39;</code>。配合 split code 使用效果更佳</p>
<h4 id="在-es-module-文件中-this-是指向当前文件（module）的，如何使-this-指向-window-？"><a href="#在-es-module-文件中-this-是指向当前文件（module）的，如何使-this-指向-window-？" class="headerlink" title="在 es module 文件中 this 是指向当前文件（module）的，如何使 this 指向 window ？"></a>在 es module 文件中 this 是指向当前文件（module）的，如何使 this 指向 window ？</h4><p>1 安装 <code>npm i imports-loader -D</code></p>
<p>2 配置 loader<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;<span class="attr">loader</span>: <span class="string">'babel-loader'</span>&#125;,</span><br><span class="line">                    &#123;<span class="attr">loader</span>: <span class="string">'imports-loader?this=&gt;window'</span>&#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="comment">// loader: 'babel-loader'</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="tips-1"><a href="#tips-1" class="headerlink" title="tips"></a>tips</h4><pre><code>1. import 中注释的写法称作 magic comment，具体请参考 [magic comment](https://webpack.docschina.org/api/module-methods/#magic-comments)，这里想使注释生效的话请安装 `@babel/plugin-syntax-dynamic-import`

2. chunk 就是指的就是 dist 下的 js 资源

3. 前端性能的提升从缓存角度来看提升是很有限的，着重还是要从代码角度来考虑。提一个点，对资源缓存只是针对非首次访问提速，那么第一次放访问应该怎么办？还是要从代码的角度多考虑
</code></pre>

    
    
    
	  <div class="full-width auto-padding tags">
      
        <a href="/tags/webpack/">webpack</a>
      
        <a href="/tags/webpack4-0/">webpack4.0</a>
      
	  </div>
    
  </section>
</article>
    </div>
  
    <div class="post-wrapper">
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2020/03/03/Webpack4-0-学习笔记-上.html">
        Webpack4.0 学习笔记（上）
      </a>
    </h2>
    
    <time>
      Mar 3, 2020
    </time>
		
    
    <span class="post-count">
      |&nbsp;字数 1603
    </span>
    <div class="cats">
        <a href="/categories/Javascript/">Javascript</a>
    </div>


  </section>
  <section class="article typo">
	  <h3 id="Webpack4-0-学习笔记"><a href="#Webpack4-0-学习笔记" class="headerlink" title="Webpack4.0 学习笔记"></a>Webpack4.0 学习笔记</h3><h4 id="webpack是什么？"><a href="#webpack是什么？" class="headerlink" title="webpack是什么？"></a>webpack是什么？</h4><p>webpack 是模块打包工具，底层的文件处理逻辑全部由 node 完成</p>
<h3 id="支持的模块的规范"><a href="#支持的模块的规范" class="headerlink" title="支持的模块的规范"></a>支持的模块的规范</h3><p>webpack 支持多种模块规范，es6: import/export default | common.js: reuqire/moudle.export | AMD: define/require | styles file: @import | resource file: <code>&lt;img src=...&gt;</code>。在 webpack 发展初期只是打包 js，但随着发展后现在可以打包 js/css 等文章</p>
<h3 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h3><h4 id="loader-就是-webpack-除-js-文件外帮助其识别、处理对应资源的-js-文件"><a href="#loader-就是-webpack-除-js-文件外帮助其识别、处理对应资源的-js-文件" class="headerlink" title="loader 就是 webpack 除 js 文件外帮助其识别、处理对应资源的 js 文件"></a>loader 就是 webpack 除 js 文件外帮助其识别、处理对应资源的 js 文件</h4><pre><code>1. file-loader 就是将图片资源复制粘贴进你配置的打包文件路径中，并将最新的符合你配置规则的图片名称（路径）返回，供代码使用
2. [&apos;style-loader&apos;, &apos;css-loader&apos;] 先执行 css-loader 分析清楚 css 间的关系，并将其整合为一个 css 文件；style-loader 则将这个 css 文件挂载到 html 的 head 底部。
3. css-loader 的 options 中设置 `importLoaders: 2` 指的是 index.scss 中 @import 了 a.scss，a.scss 中 @import 了 b.scss，如果不加这一项就会导致 b.scss 无法走 scss-loader 设置这个的目的就是为了确保 b.scss 先走 postcss-loader =》scss-loader 再走 css-loader =》style-loader
4. css moudle 的配置需要在 css-loader 的 option 中设置 `modules: true` 即可使用 `style.xxx`
</code></pre><h3 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h3><h4 id="plugin-是-webpack-的插件接口，这个插件接口使-webpack-变得极其灵活。原理就是可以在-webpack-运行到某一时刻的时候，帮你做一些事情。（类比生命周期的钩子函数）"><a href="#plugin-是-webpack-的插件接口，这个插件接口使-webpack-变得极其灵活。原理就是可以在-webpack-运行到某一时刻的时候，帮你做一些事情。（类比生命周期的钩子函数）" class="headerlink" title="plugin 是 webpack 的插件接口，这个插件接口使 webpack 变得极其灵活。原理就是可以在 webpack 运行到某一时刻的时候，帮你做一些事情。（类比生命周期的钩子函数）"></a>plugin 是 webpack 的插件接口，这个插件接口使 webpack 变得极其灵活。原理就是可以在 webpack 运行到某一时刻的时候，帮你做一些事情。（类比生命周期的钩子函数）</h4><pre><code>1. html-webpack-plugin: 该插件将为你生成一个 HTML5 文件， 并将打包生成的 js 自动插入到这个 html 中。当 webpack 打包资源结束这个时刻开始工作
2. clean-webpack-plugin: 该插件当 webpack 打包前这个时刻先删除之前的打包文件（dist）
3. webpack.HotMoudleReplacementPlugin() HMR 指的是在不刷新 .html 文件下只更新（保留当前页面的状态包括js结果）变动的代码（样式等）对应的在 devserver 中需要开启 hot/hotOnly 
</code></pre><h3 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h3><h4 id="devServer-是-webpack-在本地的开发环境下利用-http-proxy-middleware-amp-node-开启的一个服务器"><a href="#devServer-是-webpack-在本地的开发环境下利用-http-proxy-middleware-amp-node-开启的一个服务器" class="headerlink" title="devServer 是 webpack 在本地的开发环境下利用 http-proxy-middleware &amp; node 开启的一个服务器"></a>devServer 是 webpack 在本地的开发环境下利用 http-proxy-middleware &amp; node 开启的一个服务器</h4><p>这里主要说一下 proxy 的配置，如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    devServer: &#123;</span><br><span class="line">        contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">        open: <span class="literal">true</span>,</span><br><span class="line">        port: <span class="number">8080</span>,</span><br><span class="line">        hot: <span class="literal">true</span>,</span><br><span class="line">        hotOnly: <span class="literal">true</span>,</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="string">'/api'</span>: &#123;</span><br><span class="line">                target: <span class="string">'https://www.xxx.com'</span>,</span><br><span class="line">                secure: <span class="literal">false</span>,</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    <span class="string">'info.json'</span>: <span class="string">'demo.json'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                changeOrigin: <span class="literal">true</span>,</span><br><span class="line">                headers: &#123;</span><br><span class="line">                    cookie: <span class="string">'xxx'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li>target 指接口转发的目标地址，如果目标使用了 https 协议，那么必须带上 secure: false，如果是 http，则可以不配置 secure 或者使其为 true</li>
<li>pathRewrite 常用应用场景是后台正在开发接口，但是你这边需要数据，后端给了一个 mock 数据的接口，但是在业务代码中你又不想修改 info.json 为 demo.json，所以在这里进行配置后期注释掉即可</li>
<li>changeOrigin 是修改发起请求的头信息，主要是为了防止转发的目标地址会对头信息做限制，导致拿不到数据</li>
<li>headers 中设置一些头信息、cookie 主要用来模拟登陆状态</li>
</ol>
<h3 id="webpack-执行方式"><a href="#webpack-执行方式" class="headerlink" title="webpack 执行方式"></a>webpack 执行方式</h3><ol>
<li>命令行执行：<a href="https://webpack.docschina.org/api/cli/" target="_blank" rel="noopener">https://webpack.docschina.org/api/cli/</a></li>
<li>node 中执行：<a href="https://webpack.docschina.org/api/node/" target="_blank" rel="noopener">https://webpack.docschina.org/api/node/</a></li>
</ol>
<h3 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h3><p>1 npx 想要解决的主要问题，就是调用项目内部安装的模块</p>
<p>2 npx create-react-app my-react-app 避免全局安装模块</p>
<p>3 url-loader 中包含 file-loader 这俩者都能处理资源（图片、字体等）但是 url-loader 的好处就是可以转换将图片自动转为 base64 </p>
<p>4 output 中配置 cdn/oss 地址需要配置 publicPath 可以使用相关的 plugin 进行上传</p>
<p>5 sourcemap 是一个映射 src 到 dist 中代码的映射关系</p>
<p>6 需要注意的点是 babel:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该方案只针对于业务代码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm install --save-dev babel-loader @babel/core</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">        presets: [<span class="string">'@babel/preset-env'</span>]</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正常情况下我们是这样配置 babel 的，但如果在代码中使用了低版本浏览器不兼容的 promise、map 等方法该怎么办？</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm install --save @babel/polyfill</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">        presets: [[<span class="string">'@babel/preset-env'</span>, &#123;</span><br><span class="line">            targets: &#123;</span><br><span class="line">                chrome: <span class="string">'67'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            useBuiltIns: <span class="string">'usage'</span></span><br><span class="line">        &#125;]]</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这样配置后只需要在使用 es6 语法的地方 import "@babel/polyfill" 即可，但这</span></span><br><span class="line"><span class="comment">// 样的问题是原本可能只有10多k大小的文件引入polyfill后变成上百k，但其实代码里只用</span></span><br><span class="line"><span class="comment">// 到了 promise，这个时候就需要配置 useBuiltIns: 'usage' 这样就只会引入 </span></span><br><span class="line"><span class="comment">// promise 相关的 polyfill，targets 的作用是当浏览器小于某个版本时才进行 </span></span><br><span class="line"><span class="comment">// babel 的转换</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack4 中不用在文件中 import "@babel/polyfill" 配置 useBuiltIns: 'usage' 后 babel 自动加上 polyfill</span></span><br></pre></td></tr></table></figure></p>
<p>详情请参考：<a href="https://babeljs.io/docs/en/babel-preset-env#usebuiltins" target="_blank" rel="noopener">https://babeljs.io/docs/en/babel-preset-env#usebuiltins</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该方案只针对于与业务无关的插件、类库等三方代码</span></span><br><span class="line"><span class="comment">// 为什么这样做？因为 polyfill 会将方法注入至全局，污染全局环境</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm install --save-dev babel-loader @babel/core</span></span><br><span class="line"><span class="comment">// npm install --save-dev @babel/plugin-transform-runtime</span></span><br><span class="line"><span class="comment">// npm install --save @babel/runtime-corejs</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">       plugins: [[<span class="string">'@babel/plugin-transform-runtime'</span>, &#123;</span><br><span class="line">           corejs: <span class="number">2</span>,</span><br><span class="line">           helper: <span class="literal">true</span>,</span><br><span class="line">           regenerator: <span class="literal">true</span>,</span><br><span class="line">           useESModules: <span class="literal">false</span></span><br><span class="line">       &#125;]]</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 去掉代码中的 import "@babel/polyfill" 然后执行即可</span></span><br><span class="line"><span class="comment">// 如果 options 中配置参数较多可以将 options 对象直接提出放至项目根目录的 .babelrc 中即可</span></span><br></pre></td></tr></table></figure>
<p>详情请参考：<a href="https://babeljs.io/docs/en/babel-plugin-transform-runtime" target="_blank" rel="noopener">https://babeljs.io/docs/en/babel-plugin-transform-runtime</a></p>
<p>7 所有 loader 或者 loader 中的 options 配置执行顺序都是从下往上、从右往左</p>
<p>8 开启了 hotOnly: true 后局部更新后页面不会自动刷新</p>
<p>9 开启 devserver 后打包文件存在于内存中，想查看的话可以通 <code>npx webpack --config webpack.dev.config</code> 来避开 <code>webpack-dev-server --config webpack.dev.config</code> </p>
<p>10 前端spa路由需要注意的一个点是要配置 <code>historyApiFallback: true</code> 这样才能保证在地址栏输入路径后不被 devServer 的代理当作接口转发走</p>
<p>11 resolve 的配置：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    resolve: &#123;</span><br><span class="line">        <span class="comment">// 配置 extensions 可以免去写文件后缀名，但是尽量不要也将资源类文件的后缀配进来（因为每次查找文件会使用node的fs模块，性能会受影响）</span></span><br><span class="line">        extensions: [<span class="string">'.js'</span>, <span class="string">'.jsx'</span>],</span><br><span class="line">        <span class="comment">// 配置 mainFiles 可以在引入时只写目录 eg: `import Child from './src/child'`，这样 webpack 会先找 child 目录下的 indexjs 没有的话会找 childjs</span></span><br><span class="line">        mainFiles: [<span class="string">'index'</span>, <span class="string">'child'</span>],</span><br><span class="line">        <span class="comment">// 配置 alias 就可以使用别名</span></span><br><span class="line">        alias: &#123;</span><br><span class="line">            i7eo: path.resolve(__dirname, <span class="string">'./src/child'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>


    
    
    
	  <div class="full-width auto-padding tags">
      
        <a href="/tags/webpack/">webpack</a>
      
        <a href="/tags/webpack4-0/">webpack4.0</a>
      
	  </div>
    
  </section>
</article>
    </div>
  
    <div class="post-wrapper">
      <article class="post reveal">
  <section class="meta">
    
    <h2 class="title">
      <a href="/2017/03/05/webpack笔记.html">
        webpack笔记
      </a>
    </h2>
    
    <time>
      Mar 5, 2017
    </time>
		
    
    <span class="post-count">
      |&nbsp;字数 2043
    </span>
    <div class="cats">
        <a href="/categories/Javascript/">Javascript</a>
    </div>


  </section>
  <section class="article typo">
	  <p>　　<br>webpack 2.0 用了小一个月了，一直都是照猫画虎。这俩天开始细读官网的部分文章结合一些讲解视频，深入学习一下。小结一发来汇总知识点。
　　</p>
<ol>
<li><strong>webpack 的由来?</strong></li>
</ol>
<p>已存在的模块打包器对于大型应用（大型的SPA）来说并不适合。发展另一个模块打包器最迫切的原因那就是代码分割（Code Splitting）并且可以让静态资源能够无缝的适用于模块化。</p>
<ol start="2">
<li><strong>webpack 可以做的事情？</strong></li>
</ol>
<ul>
<li>将项目间的依赖分割成代码块并按需加载</li>
</ul>

    
	  <div class="readmore">
      <a href="/2017/03/05/webpack笔记.html">Read More</a>
    </div>
    
    
    
	  <div class="full-width auto-padding tags">
      
        <a href="/tags/webpack/">webpack</a>
      
	  </div>
    
  </section>
</article>
    </div>
  
</section>


      </div>
      <aside class='l_side'>
        
    <section class="m_widget about">
<a href="/about">
  <img class="avatar waves-image" src="/images/avatar.jpeg">
</a>
<div class="header">George Tan</div>
<div class="content">
<div class="desc">A man who dreams of being a full stack engineer</div>
</div>
</section>


    <!-- <section class='m_widget links'>
<div class='header'>Links</div>
<div class='content'>
    <ul class="entry">
    
        <li><a class="flat-box" target="_blank" href="https://ccoooss.com">
            <div class='name'>ClassicOldSong</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://frantic1048.logdown.com/">
            <div class='name'>Frantic1048</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://hclmaster.github.io/">
            <div class='name'>Hclmaster</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="https://whst.github.io/">
            <div class='name'>WANG Hsü-Tung</div>
        </a></li>
    
    </ul>
</div>
</section> -->


    <section class="m_widget categories">
<div class="header">Categories</div>
<div class="content">
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/categories/HTML-CSS/"><div class="name">HTML&amp;CSS</div><div class="badget">4</div></a></li>
    
        <li><a class="flat-box" href="/categories/HTTP/"><div class="name">HTTP</div><div class="badget">2</div></a></li>
    
        <li><a class="flat-box" href="/categories/Javascript/"><div class="name">Javascript</div><div class="badget">12</div></a></li>
    
        <li><a class="flat-box" href="/categories/React/"><div class="name">React</div><div class="badget">1</div></a></li>
    
        <li><a class="flat-box" href="/categories/Vuejs/"><div class="name">Vuejs</div><div class="badget">2</div></a></li>
    
        <li><a class="flat-box" href="/categories/三方/"><div class="name">三方</div><div class="badget">1</div></a></li>
    
        <li><a class="flat-box" href="/categories/自动化/"><div class="name">自动化</div><div class="badget">1</div></a></li>
    
        <li><a class="flat-box" href="/categories/运维/"><div class="name">运维</div><div class="badget">1</div></a></li>
    
    </ul>
    
</div>
</section>

    
<div class="m_widget tagcloud">
    <div class="header">Tags</div>
    <div class="content">
        <a href="/tags/Alfred3-workflow/" style="font-size: 14px; color: #808080">Alfred3 workflow</a> <a href="/tags/CORS/" style="font-size: 14px; color: #808080">CORS</a> <a href="/tags/EventLoop/" style="font-size: 14px; color: #808080">EventLoop</a> <a href="/tags/Nuxt-js/" style="font-size: 14px; color: #808080">Nuxt.js</a> <a href="/tags/React/" style="font-size: 14px; color: #808080">React</a> <a href="/tags/Redux/" style="font-size: 14px; color: #808080">Redux</a> <a href="/tags/SSR/" style="font-size: 14px; color: #808080">SSR</a> <a href="/tags/certona/" style="font-size: 14px; color: #808080">certona</a> <a href="/tags/cloudflare/" style="font-size: 14px; color: #808080">cloudflare</a> <a href="/tags/flex/" style="font-size: 14px; color: #808080">flex</a> <a href="/tags/ga/" style="font-size: 14px; color: #808080">ga</a> <a href="/tags/https/" style="font-size: 14px; color: #808080">https</a> <a href="/tags/paypal-smart-button/" style="font-size: 14px; color: #808080">paypal smart button</a> <a href="/tags/pingpong/" style="font-size: 14px; color: #808080">pingpong</a> <a href="/tags/pinterest/" style="font-size: 14px; color: #808080">pinterest</a> <a href="/tags/prototype-proto/" style="font-size: 14px; color: #808080">prototype/_proto_</a> <a href="/tags/qshell/" style="font-size: 14px; color: #808080">qshell</a> <a href="/tags/rem/" style="font-size: 14px; color: #808080">rem</a> <a href="/tags/render-函数/" style="font-size: 14px; color: #808080">render 函数</a> <a href="/tags/sticky-footer/" style="font-size: 14px; color: #808080">sticky footer</a> <a href="/tags/webpack/" style="font-size: 20px; color: #000">webpack</a> <a href="/tags/webpack4-0/" style="font-size: 17px; color: #404040">webpack4.0</a> <a href="/tags/worldpay/" style="font-size: 14px; color: #808080">worldpay</a> <a href="/tags/上下文/" style="font-size: 14px; color: #808080">上下文</a> <a href="/tags/中间件/" style="font-size: 14px; color: #808080">中间件</a> <a href="/tags/作用域/" style="font-size: 14px; color: #808080">作用域</a> <a href="/tags/值传递/" style="font-size: 14px; color: #808080">值传递</a> <a href="/tags/图床/" style="font-size: 14px; color: #808080">图床</a> <a href="/tags/层叠上下文/" style="font-size: 14px; color: #808080">层叠上下文</a> <a href="/tags/执行环境/" style="font-size: 14px; color: #808080">执行环境</a> <a href="/tags/模版解析/" style="font-size: 14px; color: #808080">模版解析</a> <a href="/tags/水平垂直居中/" style="font-size: 14px; color: #808080">水平垂直居中</a> <a href="/tags/深拷贝/" style="font-size: 14px; color: #808080">深拷贝</a> <a href="/tags/继承/" style="font-size: 17px; color: #404040">继承</a> <a href="/tags/缓存/" style="font-size: 14px; color: #808080">缓存</a> <a href="/tags/虚拟Dom/" style="font-size: 17px; color: #404040">虚拟Dom</a> <a href="/tags/规范/" style="font-size: 14px; color: #808080">规范</a> <a href="/tags/闭包/" style="font-size: 14px; color: #808080">闭包</a> <a href="/tags/面向对象/" style="font-size: 14px; color: #808080">面向对象</a>
    </div>
</div>




      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/i7eo" class="social github" target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="/atom.xml" class="social rss" target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>

  <div>Theme <a href="https://github.com/stkevintan/hexo-theme-material-flow" class="codename">MaterialFlow</a> Powered by <a href="https://hexo.io/" target="_blank" class="codename">Hexo</a>.</div>

</footer>

  <script>setLoadingBarProgress(80);</script>
  

<!-- <script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script> -->
<script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/node-waves/0.7.5/waves.min.js"></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>
<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>

  <script>setLoadingBarProgress(100);</script>
</body>
</html>
